<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<title>My jQuery JSON Web Page</title>
<head>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript">

var btn = document.getElementById('btn');

function clicked() {
  // stop the regular form submission

alert('hi');
  //e.preventDefault();

  // collect the form data while iterating over the inputs
  var data = {};
  /*for (var i = 0, ii = form.length; i < ii; ++i) {
    var input = form[i];
    if (input.name) {
      data[input.name] = input.value;
    }
  }*/

  // construct an HTTP request
  var xhr = new XMLHttpRequest();
  xhr.open(form.method, form.action, true);
  xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');

  // send the collected data as JSON
  xhr.send(JSON.stringify('{"json_value":"rajesh", "json_value2":"rajesh2"}'));
  //xhr.send(JSON.stringify(data));

  xhr.onloadend = function () {
    alert('done');
  };
};

</script>
</head>
<body>

<h1>jQuery JSON Tester</h1>

<div id="resultDivContainer"></div>

<form action="services/info/add" method="POST" id="form">
	<input type="text" name="name1">
	<input type="button" id="btn" onclick="clicked()" value="Call">
</form>

</body>
</html>
